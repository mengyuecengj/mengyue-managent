import { MockMethod } from 'vite-plugin-mock'

interface MenuItem {
  id: number
  label: string
  children: MenuItem[]
  createBy: string | null
  createTime: string
  updateBy: string | null
  updateTime: string | null
  remark: string | null
  menuId: number
  menuName: string
  parentName: string | null
  parentId: number
  orderNum: number
  path: string
  component: string | null
  query: string
  routeName: string
  isFrame: string
  isCache: string
  menuType: string
  visible: string
  status: string
  perms: string
  icon: string
}

// 构建菜单树
function buildMenuTree(menuList: MenuItem[]): MenuItem[] {
  const menuMap = new Map<number, MenuItem>()
  const tree: MenuItem[] = []

  menuList.forEach(menu => {
    menuMap.set(menu.menuId, { ...menu, label: menu.menuName, id: menu.menuId, children: [] })
  })

  menuList.forEach(menu => {
    if (menu.parentId === 0) {
      tree.push(menuMap.get(menu.menuId)!)
    } else {
      const parent = menuMap.get(menu.parentId)
      if (parent) {
        parent.children.push(menuMap.get(menu.menuId)!)
      }
    }
  })

  tree.forEach(node => {
    node.children.sort((a, b) => a.orderNum - b.orderNum)
  })

  return tree
}

// Mock data
const menuList: MenuItem[] = [
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1,
    menuName: "系统管理",
    parentName: null,
    parentId: 0,
    orderNum: 1,
    path: "system",
    component: null,
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "M",
    visible: "0",
    status: "0",
    perms: "",
    icon: "system",
    children: [],
    id: 1,
    label: "系统管理"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 2,
    menuName: "系统监控",
    parentName: null,
    parentId: 0,
    orderNum: 2,
    path: "monitor",
    component: null,
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "M",
    visible: "0",
    status: "0",
    perms: "",
    icon: "monitor",
    children: [],
    id: 2,
    label: "系统监控"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 3,
    menuName: "系统工具",
    parentName: null,
    parentId: 0,
    orderNum: 3,
    path: "tool",
    component: null,
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "M",
    visible: "0",
    status: "0",
    perms: "",
    icon: "tool",
    children: [],
    id: 3,
    label: "系统工具"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 100,
    menuName: "用户管理",
    parentName: null,
    parentId: 1,
    orderNum: 1,
    path: "user",
    component: "system/user/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "system:user:list",
    icon: "user",
    children: [],
    id: 100,
    label: "用户管理"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 101,
    menuName: "角色管理",
    parentName: null,
    parentId: 1,
    orderNum: 2,
    path: "role",
    component: "system/role/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "system:role:list",
    icon: "peoples",
    children: [],
    id: 101,
    label: "角色管理"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 102,
    menuName: "菜单管理",
    parentName: null,
    parentId: 1,
    orderNum: 3,
    path: "menu",
    component: "system/menu/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "system:menu:list",
    icon: "tree-table",
    children: [],
    id: 102,
    label: "菜单管理"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 103,
    menuName: "部门管理",
    parentName: null,
    parentId: 1,
    orderNum: 4,
    path: "dept",
    component: "system/dept/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "system:dept:list",
    icon: "tree",
    children: [],
    id: 103,
    label: "部门管理"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 104,
    menuName: "岗位管理",
    parentName: null,
    parentId: 1,
    orderNum: 5,
    path: "post",
    component: "system/post/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "system:post:list",
    icon: "post",
    children: [],
    id: 104,
    label: "岗位管理"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 107,
    menuName: "通知公告",
    parentName: null,
    parentId: 1,
    orderNum: 8,
    path: "notice",
    component: "system/notice/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "system:notice:list",
    icon: "message",
    children: [],
    id: 107,
    label: "通知公告"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 108,
    menuName: "日志管理",
    parentName: null,
    parentId: 1,
    orderNum: 9,
    path: "log",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "M",
    visible: "0",
    status: "0",
    perms: "",
    icon: "log",
    children: [],
    id: 108,
    label: "日志管理"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 109,
    menuName: "在线用户",
    parentName: null,
    parentId: 2,
    orderNum: 1,
    path: "online",
    component: "monitor/online/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "monitor:online:list",
    icon: "online",
    children: [],
    id: 109,
    label: "在线用户"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 110,
    menuName: "定时任务",
    parentName: null,
    parentId: 2,
    orderNum: 2,
    path: "job",
    component: "monitor/job/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "monitor:job:list",
    icon: "job",
    children: [],
    id: 110,
    label: "定时任务"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 111,
    menuName: "数据监控",
    parentName: null,
    parentId: 2,
    orderNum: 3,
    path: "druid",
    component: "monitor/druid/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "monitor:druid:list",
    icon: "druid",
    children: [],
    id: 111,
    label: "数据监控"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 112,
    menuName: "服务监控",
    parentName: null,
    parentId: 2,
    orderNum: 4,
    path: "server",
    component: "monitor/server/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "monitor:server:list",
    icon: "server",
    children: [],
    id: 112,
    label: "服务监控"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 113,
    menuName: "缓存监控",
    parentName: null,
    parentId: 2,
    orderNum: 5,
    path: "cache",
    component: "monitor/cache/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "monitor:cache:list",
    icon: "redis",
    children: [],
    id: 113,
    label: "缓存监控"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 114,
    menuName: "缓存列表",
    parentName: null,
    parentId: 2,
    orderNum: 6,
    path: "cacheList",
    component: "monitor/cache/list",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "monitor:cache:list",
    icon: "redis-list",
    children: [],
    id: 114,
    label: "缓存列表"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 115,
    menuName: "表单构建",
    parentName: null,
    parentId: 3,
    orderNum: 1,
    path: "build",
    component: "tool/build/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "tool:build:list",
    icon: "build",
    children: [],
    id: 115,
    label: "表单构建"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 116,
    menuName: "代码生成",
    parentName: null,
    parentId: 3,
    orderNum: 2,
    path: "gen",
    component: "tool/gen/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "tool:gen:list",
    icon: "code",
    children: [],
    id: 116,
    label: "代码生成"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 117,
    menuName: "系统接口",
    parentName: null,
    parentId: 3,
    orderNum: 3,
    path: "swagger",
    component: "tool/swagger/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "tool:swagger:list",
    icon: "swagger",
    children: [],
    id: 117,
    label: "系统接口"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1000,
    menuName: "用户查询",
    parentName: null,
    parentId: 100,
    orderNum: 1,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:user:query",
    icon: "#",
    children: [],
    id: 1000,
    label: "用户查询"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1001,
    menuName: "用户新增",
    parentName: null,
    parentId: 100,
    orderNum: 2,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:user:add",
    icon: "#",
    children: [],
    id: 1001,
    label: "用户新增"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1002,
    menuName: "用户修改",
    parentName: null,
    parentId: 100,
    orderNum: 3,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:user:edit",
    icon: "#",
    children: [],
    id: 1002,
    label: "用户修改"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1003,
    menuName: "用户删除",
    parentName: null,
    parentId: 100,
    orderNum: 4,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:user:remove",
    icon: "#",
    children: [],
    id: 1003,
    label: "用户删除"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1004,
    menuName: "用户导出",
    parentName: null,
    parentId: 100,
    orderNum: 5,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:user:export",
    icon: "#",
    children: [],
    id: 1004,
    label: "用户导出"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1005,
    menuName: "用户导入",
    parentName: null,
    parentId: 100,
    orderNum: 6,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:user:import",
    icon: "#",
    children: [],
    id: 1005,
    label: "用户导入"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1006,
    menuName: "重置密码",
    parentName: null,
    parentId: 100,
    orderNum: 7,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:user:resetPwd",
    icon: "#",
    children: [],
    id: 1006,
    label: "重置密码"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1007,
    menuName: "角色查询",
    parentName: null,
    parentId: 101,
    orderNum: 1,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:role:query",
    icon: "#",
    children: [],
    id: 1007,
    label: "角色查询"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1008,
    menuName: "角色新增",
    parentName: null,
    parentId: 101,
    orderNum: 2,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:role:add",
    icon: "#",
    children: [],
    id: 1008,
    label: "角色新增"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1009,
    menuName: "角色修改",
    parentName: null,
    parentId: 101,
    orderNum: 3,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:role:edit",
    icon: "#",
    children: [],
    id: 1009,
    label: "角色修改"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1010,
    menuName: "角色删除",
    parentName: null,
    parentId: 101,
    orderNum: 4,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:role:remove",
    icon: "#",
    children: [],
    id: 1010,
    label: "角色删除"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1011,
    menuName: "角色导出",
    parentName: null,
    parentId: 101,
    orderNum: 5,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:role:export",
    icon: "#",
    children: [],
    id: 1011,
    label: "角色导出"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1012,
    menuName: "菜单查询",
    parentName: null,
    parentId: 102,
    orderNum: 1,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:menu:query",
    icon: "#",
    children: [],
    id: 1012,
    label: "菜单查询"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1013,
    menuName: "菜单新增",
    parentName: null,
    parentId: 102,
    orderNum: 2,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:menu:add",
    icon: "#",
    children: [],
    id: 1013,
    label: "菜单新增"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1014,
    menuName: "菜单修改",
    parentName: null,
    parentId: 102,
    orderNum: 3,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:menu:edit",
    icon: "#",
    children: [],
    id: 1014,
    label: "菜单修改"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1015,
    menuName: "菜单删除",
    parentName: null,
    parentId: 102,
    orderNum: 4,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:menu:remove",
    icon: "#",
    children: [],
    id: 1015,
    label: "菜单删除"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1016,
    menuName: "部门查询",
    parentName: null,
    parentId: 103,
    orderNum: 1,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:dept:query",
    icon: "#",
    children: [],
    id: 1016,
    label: "部门查询"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1017,
    menuName: "部门新增",
    parentName: null,
    parentId: 103,
    orderNum: 2,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:dept:add",
    icon: "#",
    children: [],
    id: 1017,
    label: "部门新增"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1018,
    menuName: "部门修改",
    parentName: null,
    parentId: 103,
    orderNum: 3,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:dept:edit",
    icon: "#",
    children: [],
    id: 1018,
    label: "部门修改"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1019,
    menuName: "部门删除",
    parentName: null,
    parentId: 103,
    orderNum: 4,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:dept:remove",
    icon: "#",
    children: [],
    id: 1019,
    label: "部门删除"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1020,
    menuName: "岗位查询",
    parentName: null,
    parentId: 104,
    orderNum: 1,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:post:query",
    icon: "#",
    children: [],
    id: 1020,
    label: "岗位查询"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1021,
    menuName: "岗位新增",
    parentName: null,
    parentId: 104,
    orderNum: 2,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:post:add",
    icon: "#",
    children: [],
    id: 1021,
    label: "岗位新增"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1022,
    menuName: "岗位修改",
    parentName: null,
    parentId: 104,
    orderNum: 3,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:post:edit",
    icon: "#",
    children: [],
    id: 1022,
    label: "岗位修改"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1023,
    menuName: "岗位删除",
    parentName: null,
    parentId: 104,
    orderNum: 4,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:post:remove",
    icon: "#",
    children: [],
    id: 1023,
    label: "岗位删除"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1024,
    menuName: "岗位导出",
    parentName: null,
    parentId: 104,
    orderNum: 5,
    path: "",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:post:export",
    icon: "#",
    children: [],
    id: 1024,
    label: "岗位导出"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1035,
    menuName: "公告查询",
    parentName: null,
    parentId: 107,
    orderNum: 1,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:notice:query",
    icon: "#",
    children: [],
    id: 1035,
    label: "公告查询"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1036,
    menuName: "公告新增",
    parentName: null,
    parentId: 107,
    orderNum: 2,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:notice:add",
    icon: "#",
    children: [],
    id: 1036,
    label: "公告新增"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1037,
    menuName: "公告修改",
    parentName: null,
    parentId: 107,
    orderNum: 3,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:notice:edit",
    icon: "#",
    children: [],
    id: 1037,
    label: "公告修改"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1038,
    menuName: "公告删除",
    parentName: null,
    parentId: 107,
    orderNum: 4,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "system:notice:remove",
    icon: "#",
    children: [],
    id: 1038,
    label: "公告删除"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 500,
    menuName: "操作日志",
    parentName: null,
    parentId: 108,
    orderNum: 1,
    path: "operlog",
    component: "monitor/operlog/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "monitor:operlog:list",
    icon: "form",
    children: [],
    id: 500,
    label: "操作日志"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 501,
    menuName: "登录日志",
    parentName: null,
    parentId: 108,
    orderNum: 2,
    path: "logininfor",
    component: "monitor/logininfor/index",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "C",
    visible: "0",
    status: "0",
    perms: "monitor:logininfor:list",
    icon: "logininfor",
    children: [],
    id: 501,
    label: "登录日志"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1046,
    menuName: "在线查询",
    parentName: null,
    parentId: 109,
    orderNum: 1,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:online:query",
    icon: "#",
    children: [],
    id: 1046,
    label: "在线查询"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1047,
    menuName: "批量强退",
    parentName: null,
    parentId: 109,
    orderNum: 2,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:online:batchLogout",
    icon: "#",
    children: [],
    id: 1047,
    label: "批量强退"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1048,
    menuName: "单条强退",
    parentName: null,
    parentId: 109,
    orderNum: 3,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:online:forceLogout",
    icon: "#",
    children: [],
    id: 1048,
    label: "单条强退"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1049,
    menuName: "任务查询",
    parentName: null,
    parentId: 110,
    orderNum: 1,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:job:query",
    icon: "#",
    children: [],
    id: 1049,
    label: "任务查询"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1050,
    menuName: "任务新增",
    parentName: null,
    parentId: 110,
    orderNum: 2,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:job:add",
    icon: "#",
    children: [],
    id: 1050,
    label: "任务新增"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1051,
    menuName: "任务修改",
    parentName: null,
    parentId: 110,
    orderNum: 3,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:job:edit",
    icon: "#",
    children: [],
    id: 1051,
    label: "任务修改"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1052,
    menuName: "任务删除",
    parentName: null,
    parentId: 110,
    orderNum: 4,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:job:remove",
    icon: "#",
    children: [],
    id: 1052,
    label: "任务删除"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1053,
    menuName: "状态修改",
    parentName: null,
    parentId: 110,
    orderNum: 5,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:job:changeStatus",
    icon: "#",
    children: [],
    id: 1053,
    label: "状态修改"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1054,
    menuName: "任务导出",
    parentName: null,
    parentId: 110,
    orderNum: 6,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:job:export",
    icon: "#",
    children: [],
    id: 1054,
    label: "任务导出"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1055,
    menuName: "生成查询",
    parentName: null,
    parentId: 116,
    orderNum: 1,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "tool:gen:query",
    icon: "#",
    children: [],
    id: 1055,
    label: "生成查询"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1056,
    menuName: "生成修改",
    parentName: null,
    parentId: 116,
    orderNum: 2,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "tool:gen:edit",
    icon: "#",
    children: [],
    id: 1056,
    label: "生成修改"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1057,
    menuName: "生成删除",
    parentName: null,
    parentId: 116,
    orderNum: 3,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "tool:gen:remove",
    icon: "#",
    children: [],
    id: 1057,
    label: "生成删除"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1058,
    menuName: "导入代码",
    parentName: null,
    parentId: 116,
    orderNum: 4,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "tool:gen:import",
    icon: "#",
    children: [],
    id: 1058,
    label: "导入代码"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1059,
    menuName: "预览代码",
    parentName: null,
    parentId: 116,
    orderNum: 5,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "tool:gen:preview",
    icon: "#",
    children: [],
    id: 1059,
    label: "预览代码"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1060,
    menuName: "生成代码",
    parentName: null,
    parentId: 116,
    orderNum: 6,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "tool:gen:code",
    icon: "#",
    children: [],
    id: 1060,
    label: "生成代码"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1039,
    menuName: "操作查询",
    parentName: null,
    parentId: 500,
    orderNum: 1,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:operlog:query",
    icon: "#",
    children: [],
    id: 1039,
    label: "操作查询"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1040,
    menuName: "操作删除",
    parentName: null,
    parentId: 500,
    orderNum: 2,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:operlog:remove",
    icon: "#",
    children: [],
    id: 1040,
    label: "操作删除"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1041,
    menuName: "日志导出",
    parentName: null,
    parentId: 500,
    orderNum: 3,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:operlog:export",
    icon: "#",
    children: [],
    id: 1041,
    label: "日志导出"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1042,
    menuName: "登录查询",
    parentName: null,
    parentId: 501,
    orderNum: 1,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:logininfor:query",
    icon: "#",
    children: [],
    id: 1042,
    label: "登录查询"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1043,
    menuName: "登录删除",
    parentName: null,
    parentId: 501,
    orderNum: 2,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:logininfor:remove",
    icon: "#",
    children: [],
    id: 1043,
    label: "登录删除"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1044,
    menuName: "日志导出",
    parentName: null,
    parentId: 501,
    orderNum: 3,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:logininfor:export",
    icon: "#",
    children: [],
    id: 1044,
    label: "日志导出"
  },
  {
    createBy: null,
    createTime: "2025-05-25 23:54:42",
    updateBy: null,
    updateTime: null,
    remark: null,
    menuId: 1045,
    menuName: "账户解锁",
    parentName: null,
    parentId: 501,
    orderNum: 4,
    path: "#",
    component: "",
    query: "",
    routeName: "",
    isFrame: "1",
    isCache: "0",
    menuType: "F",
    visible: "0",
    status: "0",
    perms: "monitor:logininfor:unlock",
    icon: "#",
    children: [],
    id: 1045,
    label: "账户解锁"
  }
];

// Define the response interface
interface MockResponse {
  msg: string;
  code: number;
  data: MenuItem[];
}

// 模拟数据
export default [
  {
    url: '/dev-api/system/menu/list',
    method: 'get',
    timeout: 200,
    // 在 menu.ts 中修改响应逻辑
    response: ({ query }) => {
      let filteredData = [...menuList]

      // 如果有搜索条件，进行过滤
      if (query.menuName) {
        // 找出所有匹配的节点及其所有祖先节点
        const matchedMenuIds = new Set<number>()
        const findMatchedAndAncestors = (menu: MenuItem) => {
          if (menu.menuName.includes(query.menuName)) {
            // 标记当前节点为匹配
            matchedMenuIds.add(menu.menuId)

            // 递归标记所有祖先节点
            let parentId = menu.parentId
            while (parentId !== 0) {
              const parent = menuList.find(m => m.menuId === parentId)
              if (parent) {
                matchedMenuIds.add(parent.menuId)
                parentId = parent.parentId
              } else {
                break
              }
            }
          }
        }

        menuList.forEach(findMatchedAndAncestors)

        // 过滤出所有匹配的节点及其祖先节点
        filteredData = menuList.filter(menu => matchedMenuIds.has(menu.menuId))
      }

      // 其他过滤条件
      if (query.status !== undefined && query.status !== '') {
        filteredData = filteredData.filter(u => String(u.status) === String(query.status))
      }
      if (query.visible !== undefined && query.visible !== '') {
        filteredData = filteredData.filter(u => String(u.visible) === String(query.visible))
      }

      return {
        msg: '操作成功',
        code: 200,
        data: buildMenuTree(filteredData)
      }
    }
  }
] as MockMethod[]